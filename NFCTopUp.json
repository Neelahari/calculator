{"swagger":"2.0","info":{"version":"v1","title":"NFCTopUpAPI"},"host":"localhost:3940","schemes":["http"],"paths":{"/api/Configuration/UpdateEODData":{"post":{"tags":["Configuration"],"summary":"This api will be called by PDS subsytem to update eod data in MAS","operationId":"Configuration_UpdateEODData","consumes":["application/json","text/json","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":[],"parameters":[{"name":"value","in":"body","description":"","required":true,"schema":{"$ref":"#/definitions/UpdateEODDataRequestParams"}}],"responses":{"204":{"description":"No Content"}}}},"/api/Configuration/DeleteEODData":{"delete":{"tags":["Configuration"],"summary":"This api will be called by PDS subsytem to update eod data in MAS","operationId":"Configuration_DeleteEODData","consumes":["application/json","text/json","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","application/xml","text/xml"],"parameters":[{"name":"value","in":"body","description":"","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}}}},"/api/Configuration/GetVersions":{"get":{"tags":["Configuration"],"summary":"Get list of configuration item versions","operationId":"Configuration_GetVersions","consumes":[],"produces":["application/json","text/json","application/xml","text/xml"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetVersionsResponseParams"}}}}},"/api/Configuration/GetLatestVersionContent/{configurationType}":{"get":{"tags":["Configuration"],"summary":"Get latest version configuration content","operationId":"Configuration_GetLatestVersionContent","consumes":[],"produces":["application/json","text/json","application/xml","text/xml"],"parameters":[{"name":"configurationType","in":"path","description":"1.CMApp 2.TermsAndConditions 3. Faq","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetLatestVersionContentResponseParams"}}}}},"/api/FareMedia/GetFareMediaData":{"get":{"tags":["FareMedia"],"summary":"Get faremedia info","operationId":"FareMedia_GetFareMediaData","consumes":[],"produces":["application/json","text/json","application/xml","text/xml"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"type":"string"}}}}}},"/api/FAQ/GetTrainingContent":{"get":{"tags":["Help"],"summary":"Get consumer application training content","operationId":"Help_GetTrainingContent","consumes":[],"produces":["application/json","text/json","application/xml","text/xml"],"responses":{"200":{"description":"OK","schema":{"type":"string"}}}}},"/api/Order/GetPendingTopUps":{"get":{"tags":["Order"],"summary":"Get pending topups for all faremedia of the selected user","operationId":"Order_GetPendingTopUps","consumes":["application/json","text/json","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","application/xml","text/xml"],"parameters":[{"name":"request.deviceID","in":"query","required":false,"type":"string"},{"name":"request.customerID","in":"query","required":false,"type":"string"},{"name":"request.fareMediaInfoList","in":"query","required":false,"type":"array","items":{},"collectionFormat":"multi"},{"name":"request.isNFCEnabled","in":"query","required":false,"type":"boolean"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetPendingTopUpsResponse"}}}}},"/api/Order/ExecuteTopUps":{"get":{"tags":["Order"],"summary":"Gets the resposne for the next read write command","operationId":"Order_ExecuteTopUps","consumes":["application/json","text/json","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","application/xml","text/xml"],"parameters":[{"name":"request.uID","in":"query","required":false,"type":"string"},{"name":"request.gSN","in":"query","required":false,"type":"string"},{"name":"request.keyNumber","in":"query","required":false,"type":"string"},{"name":"request.stage","in":"query","required":false,"type":"string"},{"name":"request.stageData","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ExecuteTopupResponseParams"}}}}},"/api/Transaction/GetAllTransactions":{"get":{"tags":["Transactions"],"summary":"Get all the transactions generated by MAS","operationId":"Transactions_GetAllTransactions","consumes":[],"produces":["application/json","text/json","application/xml","text/xml"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"type":"string"}}}}}},"/api/Transaction/UpdateTransaction":{"post":{"tags":["Transactions"],"summary":"Update specified transaction","operationId":"Transactions_UpdateTransaction","consumes":["application/json","text/json","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":[],"parameters":[{"name":"id","in":"query","description":"","required":true,"type":"integer","format":"int32"},{"name":"value","in":"body","description":"","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No Content"}}}},"/api/Transaction/DeleteTransactions":{"delete":{"tags":["Transactions"],"summary":"Delete transactions from MAS DB","operationId":"Transactions_DeleteTransactions","consumes":[],"produces":[],"parameters":[{"name":"id","in":"query","description":"","required":true,"type":"integer","format":"int32"}],"responses":{"204":{"description":"No Content"}}}}},"definitions":{"UpdateEODDataRequestParams":{"type":"object","properties":{"ConfigurationItem":{"$ref":"#/definitions/ConfigurationItem"}}},"ConfigurationItem":{"type":"object","properties":{"id":{"type":"string"},"NFCTopUpServerConfig":{"$ref":"#/definitions/NFCTopUpServerConfiguration"},"ConsumerAppConfig":{"$ref":"#/definitions/ConsumerAppConfiguration"}}},"NFCTopUpServerConfiguration":{"type":"object","properties":{"EOD":{"$ref":"#/definitions/EODData"},"TransactionConfig":{"$ref":"#/definitions/TransactionConfigurationItem"},"AuditDetails":{"$ref":"#/definitions/AuditDetails"}}},"ConsumerAppConfiguration":{"type":"object","properties":{"ApplicationFeatureControl":{"type":"string"},"FAQ":{"$ref":"#/definitions/FAQ"},"PrivacyPolicy":{"$ref":"#/definitions/PrivacyPolicy"},"CAppVersion":{"$ref":"#/definitions/SupportedSoftwareVersion"},"TC":{"$ref":"#/definitions/TermsAndConditions"},"AuditDetails":{"$ref":"#/definitions/AuditDetails"}}},"EODData":{"type":"object","properties":{"Version":{"type":"string"},"Epurse":{"$ref":"#/definitions/EpurseConfiguration"},"ControlPolicy":{"$ref":"#/definitions/ControlPolicy"}}},"TransactionConfigurationItem":{"type":"object","properties":{"TrxID":{"format":"int32","type":"integer"}}},"AuditDetails":{"type":"object","properties":{"CreationTime":{"format":"date-time","type":"string"},"ModifiedDate":{"format":"date-time","type":"string"},"CreatedBy":{"type":"string"},"ModifiedBy":{"type":"string"}}},"FAQ":{"type":"object","properties":{"FAQContent":{"type":"string"},"Version":{"type":"string"}}},"PrivacyPolicy":{"type":"object","properties":{"PrivacyPolicyContent":{"type":"string"},"Version":{"type":"string"}}},"SupportedSoftwareVersion":{"type":"object","properties":{"ConsumerAPPVersion":{"type":"string"},"MandatorySoftwareUpdate":{"type":"boolean"}}},"TermsAndConditions":{"type":"object","properties":{"TermsAndConditionsContent":{"type":"string"},"Version":{"type":"string"}}},"EpurseConfiguration":{"type":"object","properties":{"OverdraftFee":{"type":"string"},"MinEpurseLoad":{"type":"string"},"MaxEpurseLoad":{"type":"string"},"MaxEpurseBalance":{"type":"string"},"MinThreshold":{"type":"string"}}},"ControlPolicy":{"type":"object","properties":{"LoadRepairWindow":{"type":"string"}}},"GetVersionsResponseParams":{"type":"object","properties":{"Versions":{"type":"object","properties":{"CMApp":{"type":"string"},"TermsAndConditions":{"type":"string"},"Faq":{"type":"string"},"IsMandatoryUpdate":{"type":"string"},"PrivacyPolicy":{"type":"string"}}}}},"GetLatestVersionContentResponseParams":{"type":"object","properties":{"VersionContent":{"type":"string"}}},"GetPendingTopUpsRequest":{"type":"object","properties":{"DeviceID":{"type":"string"},"CustomerID":{"type":"string"},"FareMediaInfoList":{"type":"array","items":{"$ref":"#/definitions/FareMedia"}},"IsNFCEnabled":{"type":"boolean"}}},"FareMedia":{"type":"object","properties":{"VisibleId":{"type":"string"},"MediaProviderId":{"type":"string"},"MediaId":{"type":"string"},"Type":{"enum":["FARECARDEnum","BANKCARDEnum","SCHEMEBASEDCARDEnum","TOKENEnum","PROOFOFPAYMENTEnum","NONREVENUEFARECARDEnum","ANONYMOUSEnum","MOBILEEnum","THIRDPARTYISSUEDCARDEnum"],"type":"string"},"Status":{"enum":["InitializedAndNotActivatedEnum","ActiveEnum","HotlistedEnum","BlockedEnum","NotActivatedEnum","InactiveEnum","DisposedEnum","RejectedEnum","AlreadyActivatedEnum","InvalidEnum","LockedEnum","InProcessEnum","ExpiredEnum","ActivationInProcessEnum","RegistrationInProcessEnum","ActivationCancelledEnum","RegistrationCancelledEnum","ActivationSuccessfulEnum","RegistrationSuccessfulEnum","TransferInProcessEnum","TransferCancelledEnum","TransferSuccessfulEnum","StatusNotFoundEnum","InactiveFareCardStatus","ReplaceInProcess","ReplaceCancelled","ReplaceSuccessful","FarecardRegisteredwithNoAccount"],"type":"string"}}},"GetPendingTopUpsResponse":{"type":"object","properties":{"FareMediaInfoList":{"type":"array","items":{"$ref":"#/definitions/FareMedia"}}}},"ExecuteTopupRequestParams":{"type":"object","properties":{"UID":{"type":"string"},"GSN":{"type":"string"},"KeyNumber":{"type":"string"},"Stage":{"type":"string"},"StageData":{"type":"string"}}},"ExecuteTopupResponseParams":{"type":"object","properties":{"UID":{"type":"string"},"GSN":{"type":"string"},"Stage":{"type":"string"},"AF":{"type":"string"}}}}}